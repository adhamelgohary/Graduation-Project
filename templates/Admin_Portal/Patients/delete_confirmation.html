{% extends "Admin_Portal/base_admin.html" %}

{% block title %}Confirm Deletion - {{ patient.first_name }} {{ patient.last_name }}{% endblock %}

{% block nav_patient %}active{% endblock %}

{% block header_title %}
<h1 class="page-title">
    <i class="fas fa-user-times"></i> Confirm Patient Deletion
</h1>
{% endblock %}

{% block content %}
<div class="delete-confirmation card"> {# Use card styles #}
    <h2><i class="fas fa-exclamation-triangle text-danger"></i> Confirm Deletion</h2>

    {# Display basic patient info for confirmation #}
    <div class="list-info">
        <div class="detail-row">
            <span class="detail-label">Patient Name:</span>
            <span class="detail-value">{{ patient.first_name }} {{ patient.last_name }}</span>
        </div>
        <div class="detail-row">
            <span class="detail-label">Email:</span>
            <span class="detail-value">{{ patient.email }}</span>
        </div>
         {# Add other key identifiers if needed #}
    </div>

    <p class="warning-text mt-4">Are you sure you want to permanently delete this patient and all associated records?</p>
    <p class="text-muted">This includes appointments, diagnoses, allergies, medical records, etc. <br><strong>This action cannot be undone.</strong></p>

    {# Use POST method for the actual deletion #}
    <form action="{{ url_for('patient_management.delete_patient', patient_id=patient.user_id) }}" method="POST">
        {# Optional: CSRF token #}
        {# Optional: Add a hidden field if extra confirmation is needed in Flask
           <input type="hidden" name="confirm_delete" value="yes">
        #}
        <div class="form-actions">
            <a href="{{ url_for('patient_management.index') }}" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn btn-danger"><i class="fas fa-trash"></i> Yes, Delete Patient</button>
        </div>
    </form>
</div>
{% endblock %}