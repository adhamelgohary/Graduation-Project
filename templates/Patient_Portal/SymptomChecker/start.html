{% extends "Website/base.html" %}
{% block title %}Symptom Checker{% endblock %}

{% block head_extra %}
    <link rel="stylesheet" href="{{ url_for('static', filename='Patient_Portal/symptom_checker.css') }}"> {# Specific CSS #}
    <style>
        /* Example specific styles */
        .symptom-selection-area { padding: 1rem; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 1rem; }
        .symptom-list label { display: block; margin-bottom: 0.5rem; }
    </style>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Symptom Checker</h1>
    <p>Select your symptoms to get potential insights. This tool is not a substitute for professional medical advice.</p>
</div>

{% include '_flash_messages.html' %}

<div class="card content-section">
    <div class="card-body">
        <form action="{{ url_for('symptom_checker.process_symptoms') }}" method="POST">
             {# TODO: Implement the symptom selection UI #}
             {# This could involve: #}
             {# 1. Selecting body area -> AJAX load sublocations -> AJAX load symptoms #}
             {# 2. A searchable multi-select dropdown of all symptoms #}
             {# 3. A simple list of common symptoms with checkboxes #}

             {# --- Example: Simple Checkbox List (Needs backend to pass 'common_symptoms') --- #}
             <div class="symptom-selection-area">
                 <h4>Select Your Symptoms:</h4>
                 <div class="symptom-list">
                     {% for symptom in common_symptoms %} {# Assume backend passes this list #}
                     <div class="form-check">
                       <input class="form-check-input" type="checkbox" name="symptom_ids" value="{{ symptom.symptom_id }}" id="sym-{{ symptom.symptom_id }}">
                       <label class="form-check-label" for="sym-{{ symptom.symptom_id }}">
                         {{ symptom.symptom_name }}
                       </label>
                     </div>
                     {% else %}
                       <p class="text-muted">Symptom list could not be loaded.</p>
                     {% endfor %}
                 </div>
             </div>

            <div class="form-group mb-3">
                <label for="primary_complaint">Describe your main concern (Optional)</label>
                <textarea id="primary_complaint" name="primary_complaint" class="form-control" rows="3"></textarea>
            </div>

             {# TODO: Add fields for Risk Factors if implementing that part #}

             <div class="form-actions text-center mt-4">
                <button type="submit" class="button button-primary button-large">Analyze Symptoms</button>
             </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
    {# Add JS here for dynamic loading (AJAX) if using that approach #}
{% endblock %}